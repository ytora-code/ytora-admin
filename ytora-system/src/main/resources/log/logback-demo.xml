<configuration xmlns="http://ch.qos.logback/xml/ns/logback"
               xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
               xsi:schemaLocation="http://ch.qos.logback/xml/ns/logback
               https://raw.githubusercontent.com/enricopulatzo/logback-XSD/master/src/main/xsd/logback.xsd">
    <include resource="org/springframework/boot/logging/logback/defaults.xml" />
    <!--é™„åŠ å™¨ï¼ŒçœŸæ­£è¾“å…¥æ—¥å¿—çš„ç»„ä»¶ï¼Œæœ‰æŽ§åˆ¶å°é™„åŠ å™¨ï¼Œæ–‡ä»¶é™„åŠ å™¨-->
    <!--è¿™æ˜¯ä¸€ä¸ªæŽ§åˆ¶å°é™„åŠ å™¨ConsoleAppender-->
    <appender name="STUOUT" class="ch.qos.logback.core.ConsoleAppender">
        <encoder>
            <!--æŽ§åˆ¶å°çš„æ—¥å¿—æ ¼å¼-->
            <pattern>%clr(%d{MMæœˆddæ—¥HH:mm:ss}){faint} %clr(${pid}){blue} %clr(%-5level) ðŸ‘‰ [%10thread] %logger{15}::%line -> %clr(%msg){cyan}%n</pattern>
        </encoder>
    </appender>
    <!--è¿™æ˜¯ä¸€ä¸ªæ–‡ä»¶é™„åŠ å™¨ï¼Œè¯¥é™„åŠ å™¨åªèƒ½å°†å…¨éƒ¨æ—¥å¿—è¾“å‡ºåˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œç”¨çš„è¾ƒå°‘-->
    <appender name="FILE" class="ch.qos.logback.core.FileAppender">
        <encoder>
            <!--æ–‡ä»¶é‡Œçš„æ—¥å¿—æ ¼å¼-->
            <pattern>%date %class %line %msg%n</pattern>
        </encoder>
        <!--æ—¥å¿—æ–‡ä»¶çš„è·¯å¾„-->
        <file>haha.log</file>
        <!--æ—¥å¿—å†…å®¹ä¸ºè¿½åŠ -->
        <append>true</append>
    </appender>
    <!--æ»šåŠ¨æ–‡ä»¶é™„åŠ å™¨ï¼Œå¯ä»¥å°†æ—¥å¿—æ–‡ä»¶è¿›è¡Œå½’æ¡£ç®¡ç†-->
    <appender name="ROLL_FILE" class="ch.qos.logback.core.rolling.RollingFileAppender">
        <encoder>
            <!--æ–‡ä»¶é‡Œçš„æ—¥å¿—æ ¼å¼-->
            <pattern>%date %class %line %msg%n</pattern>
        </encoder>
        <!--æ­£åœ¨è®°å½•çš„æ—¥å¿—æ–‡ä»¶çš„è·¯å¾„-->
        <file>./log/haha.log</file>
        <!--æ»šåŠ¨ç­–ç•¥,SizeAndTimeBasedRollingPolicyæ˜¯åŸºäºŽæ–‡ä»¶å¤§å°å’Œæ—¶é—´è¿›è¡Œå½’æ¡£-->
        <rollingPolicy class="ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy">
            <!--å½’æ¡£åŽçš„æ–‡ä»¶çš„è·¯å¾„ï¼Œè·¯å¾„ä¸­çš„æ—¥æœŸè¡¨ç¤ºå½’æ¡£é¢‘çŽ‡ï¼Œå¦‚ä¸‹è¡¨ç¤ºæ¯å¤©å½’æ¡£-->
            <fileNamePattern>./log/%d{yyyy-MM-dd}/%i.log</fileNamePattern>
            <!--æ—¥å¿—æ–‡ä»¶å¤§å°è¶…è¿‡æŒ‡å®šå€¼ï¼Œå°±ä¼šè¿›è¡Œå½’æ¡£-->
            <maxFileSize>10MB</maxFileSize>
            <!--åªä¿ç•™æœ€è¿‘çš„ä¸‰å¤©(å½’æ¡£æ–‡ä»¶è·¯å¾„çš„æ—¥æœŸç±»åž‹)æ—¥å¿—æ–‡ä»¶-->
            <maxHistory>3</maxHistory>
            <!--æ‰€æœ‰æ—¥å¿—æ–‡ä»¶çš„æ€»å¤§å°ï¼Œè¶…è¿‡æŒ‡å®šå€¼åŽä¼šæŠŠæ—§æ–‡ä»¶åˆ é™¤-->
            <totalSizeCap>1GB</totalSizeCap>
        </rollingPolicy>
        <!--è¿‡æ»¤å™¨ï¼Œæ ¹æ®è¿”å›žçš„æžšä¸¾å€¼å†³å®šå½“å‰é™„åŠ å™¨èƒ½å¦è¾“å‡ºæ—¥å¿—ï¼Œå¤šä¸ªè¿‡æ»¤å™¨ç»„æˆä¸€æ¡æ‰§è¡Œé“¾-->
        <!--ï¼ŒDENY(ä¸è¾“å‡º)ï¼ŒACCEPT(ç«‹å³è¾“å‡º)ï¼ŒNEUTRAL(ä¸­ç«‹ï¼Œå°†è¾“å‡ºæ—¥å¿—çš„å†³å®šæƒäº¤ç»™åŽé¢çš„è¿‡æ»¤å™¨ï¼Œå¦‚æžœè¯¥è¿‡æ»¤å™¨æ˜¯æœ€åŽä¸€ä¸ªï¼Œåˆ™ä¸è¾“å‡º)-->
        <!--å¯ä»¥é€šè¿‡è¿‡æ»¤å™¨ï¼Œå¯¹æ—¥å¿—è¿›è¡Œåˆ†ç»„è¾“å‡º-->
        <!--ä¸‹é¢æ˜¯logbackæä¾›çš„è¿‡æ»¤å™¨ï¼Œçº§åˆ«è¿‡æ»¤å™¨-->
        <filter class="ch.qos.logback.classic.filter.LevelFilter">
            <!--LevelFilterè¿‡æ»¤å™¨åªæœ‰å½“æ—¥å¿—è¾“å‡ºçº§åˆ«ç­‰äºŽinfo(level)ï¼Œå°±è¿”å›žACCEPT(onMatchï¼Œè¡¨ç¤ºåŒ¹é…)ï¼Œå¦‚æžœä¸ç­‰äºŽï¼Œåˆ™è¿”å›žDENY(onMismatchï¼Œè¡¨ç¤ºä¸åŒ¹é…)-->
            <level>info</level>
            <onMatch>ACCEPT</onMatch>
            <onMismatch>DENY</onMismatch>
        </filter>
        <!--é˜ˆå€¼è¿‡æ»¤å™¨-->
        <filter class="ch.qos.logback.classic.filter.ThresholdFilter">
            <!--å½“æ—¥å¿—è¾“å‡ºçº§åˆ«å¤§äºŽç­‰äºŽinfo(level)ï¼Œå°±åŒ¹é…ï¼Œå¦åˆ™ä¸åŒ¹é…ï¼Œä¹Ÿå¯ä»¥ä¸å†™onMatch/onMismatchï¼Œè¿‡æ»¤å™¨è¿”å›žä»€ä¹ˆå°±æ˜¯ä»€ä¹ˆ    -->
            <level>info</level>
        </filter>
        <!--ä¹Ÿå¯ä»¥è‡ªå®šä¹‰è¿‡æ»¤å™¨-->
    </appender>

    <!--ä¸ç®¡æ˜¯loggerè¿˜æ˜¯rootï¼Œéƒ½æ˜¯è®°å½•å™¨-->
    <!--è®¾ç½®æŒ‡å®šè®°å½•å™¨çš„å±žæ€§-->
    <!--å½“å­è®°å½•å™¨æ‰§è¡Œæ—¶ï¼Œå…¶æ‰€æœ‰ä¸Šçº§é™„åŠ å™¨ä¹Ÿä¼šæ‰§è¡Œï¼Œå¯¼è‡´è¾“å‡ºå¤šæ¡æ—¥å¿—ï¼Œadditivity=falseè¡¨ç¤ºåªè¾“å‡ºä¸€æ¡æ—¥æœŸ-->
<!--    <logger name="org.raindrop" level="info" additivity="false">-->
<!--        &lt;!&ndash;æŒ‡å®šè¯¥è®°å½•å™¨ä½¿ç”¨çš„é™„åŠ å™¨&ndash;&gt;-->
<!--        <appender-ref ref="STUOUT" />-->
<!--    </logger>-->
    <!--è®¾ç½®æ ¹è®°å½•å™¨çš„å±žæ€§-->
    <root level="INFO">
        <!--ä¸€ä¸ªè®°å½•å™¨ï¼Œå¯ä»¥æœ‰å¤šä¸ªé™„åŠ å™¨-->
        <appender-ref ref="STUOUT" />
<!--        <appender-ref ref="ROLL_FILE" />-->
    </root>
</configuration>